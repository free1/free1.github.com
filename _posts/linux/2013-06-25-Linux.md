---
layout: post
title: Linux基本操作
category: linux
description: 操作系统
disqus: false
---

## 快捷键
* 打开终端terminal: `CTRL + ALT + T`
* 从命令行回到图形界面: `Ctrl+Alt+F7`
* 打开搜索: `alt+f2`
* 从图形界面回到命令行: `Ctrl+Alt+F2`
* `tab` 自动补全
* `ctrl-r` 搜索命令历史
* `ctrl-w` 删除最后的单词
* `ctrl-u` 删除整行
* `fn-<-or->` 光标移到行开头or结尾
* `pstree -p` 显示进程树
* `sudo rm /var/lib/apt/lists/* -vf`


## 常用命令
* 查看内存: `free -m`
* 查看硬盘占用: ls -al, du -h, ls -Rrs  
* 查看系统:  `df -h`
* 修改用户密码: `sudo passwd root`
* 切换用户: `su root`
* 重启:  `reboot`, `shutdown -r xx`
* 设置开机启动:  `sudo /usr/sbin/update-rc.d -f nginx defaults`
* 杀掉进程:  `kill -9 $(lsof -i tcp:3000 -t)`
* 查看输入历史:  `history`
* 显示当前路径:  `pwd`
* 查看服务器ip:  `ip addr`
* 在init.d下的脚本可以加入service:  `service 服务 命令`


## 用户命令
* 添加用户(会加用户组及目录):  `adduser user_name`
* 添加用户到组:  `adduser user_name group_name`
* 设置密码:  `passwd user_name`
* 修改文件权限:  `chown -R deploy /var`
* 开机启动设置:  `sudo update-rc.d [-n] name default [NN | SS KK]`，NN表示执行序号（0-99），SS表示启动时的执行序号，KK表示关机时的执行序号，SS、KK主要用于在脚本直接的执行顺序上有依赖关系的情况下。
* 开机启动移除:  `sudo update-rc.d [-n] [-f] name remove`


## 文件操作命令
* 删除文件夹: `rm -rf`
* 修改文件名: `mv file_name new_file_name`
* 回到上一级目录: `cd ..`   
* 回到上一次目录: `cd -` 
* sublime打开本级目录: `subl .`
* 新建文件夹: `mkdir file`
* 新建文件: `touch file`
* 给文件加上执行权限: `chmod +x file`
* cat显示文件内容: `cat filename | tail -n +3000 | head -n 1000`
* 显示本目录下文件的详细内容:  `ls -ln`
* tail查看改变中的文件内容: `tail -f file`
* 显示最后几行: `tail -n 1000`
* 显示文件前几行: `head -n 1000`
* 显示多少行后的: `tail -n +1000`
* 查看文件行数: `wc -l filename`
* 查看文件大小:  `du -sk file`
* 查看文件夹大小:  `du -sh`
* 解压文件:  `tar xvf my_backup.tar`
* 清空(写入)文件:  `echo "" > production.log`
* 复制文件和目录:  `scp user@xx.com:/usr/local/sin.sh /home/xx`
* ln它的功能是为某一个文件在另外一个位置建立一个同不的链接，这个命令最常用的参数是-s,具体用法是：ln -s 源文件 目标文件
* find查找文件(find <指定目录> <指定条件> <指定动作>):  `find . -name 'my*' (搜索当前目录（含子目录，以下同）中，所有文件名以my开头的文件)`  
* whereis查找文件:  whereis命令只能用于程序名的搜索，而且只搜索二进制文件（参数-b）、man说明文件（参数-m）和源代码文件（参数-s）。如果省略参数，则返回所有信息
* which搜索文件: which命令的作用是，在PATH变量指定的路径中，搜索某个系统命令的位置，并且返回第一个搜索结果。也就是说，使用which命令，就可以看到某个系统命令是否存在，以及执行的到底是哪一个位置的命令。


## 网络命令
* 下载文件:  `wget 路径`
* 查看端口占用情况(显示各种网络相关信息): `netstat -lnp | grep -E '80|8080' `
* 查看当前运行进程: `ps aux | grep nginx`
* 查看端口运行情况:  `telnet 127.0.0.1 11211`
* 动态显示进程信息: `top(htop)`
* 查看telnet状态:  `stats`
* 退出telnet:  `control + ] quit `
* 定时执行任务:  `crontab`


## [screen 后台执行任务](http://www.ibm.com/developerworks/cn/linux/l-cn-screen/)
* 查看会话: `screen -ls`
* 切回会话: `screen -xr pid`
* 清除dead会话: `screen -wipe`
* 终止会话: `screen -S session_name -X quit`


## [nohup 后台执行任务](https://www.ibm.com/developerworks/cn/linux/l-cn-nohup/)

```
cd /var/app/stable/current; nohup bundle exec sidekiq -e stable -C ./config/sidekiq.yml -P /var/app/stable/shared/pids/sidekiq.pid </dev/null &   
```    


## 修改hosts
[桌面修改](http://www.ouyo.info/show.php?pid=1115)
hosts文件修改ip默认后两个后缀
使用二级域名需要三个，例如：

```
127.0.0.1 momo.dev
127.0.0.1 bbs.momo.dev
```


## [日志分析](http://mp.weixin.qq.com/s?__biz=MjM5NjQ4MjYwMQ==&mid=208938558&idx=1&sn=6d4cc42064a0cfae19a4beb7693b8a6f&scene=0#rd)

## [使用zsh](http://www.cnblogs.com/hnrainll/p/3573520.html)

## [幕启：介绍 Z shell](http://www.ibm.com/developerworks/cn/linux/shell/z/index.html)
