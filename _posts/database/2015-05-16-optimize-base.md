---
layout: post
title: 数据库优化基础
category: database
description: 性能优化
disqus: false
---

## 原则
* 数据库范式和反范式相结合(适当冗余字段, 比如记录的count字段)
* 避免全表扫描(where子句中少用is null,!=,<>,or,in), 合理添加索引(比如关联表id和常用搜索字段加)
* 大表拆分(比如热数据与冷数据分离, 大的字段单独出来)
* 使用合理的类型添加字段
* 使用查询缓存(比如常用查询赋值给变量)
* 避免 SELECT *, 尽量只返回需要的字段
* 加上自增id
* 尽可能的使用 NOT NULL
* 拆分大的delete或insert语句
* 合理使用Query Cache(比如频繁cud不适合,消耗很大的查询适合)
* 尽可能避免复杂的Join 和子查询
* 永远用小结果集驱动大的结果集(过滤时先选出数据少的)
* where字句按索引字段少的在前面(顺序决定了查询分析器是否使用索引查询)
* 大量写入时可以考虑完全写入再加索引
